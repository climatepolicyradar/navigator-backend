# definitions for local development

poetry_environment:
	poetry install

check_dev_environment:
ifneq (,$(wildcard ./.env))
	echo "Dev environment already configured."
	exit 1
endif

dev_install: check_dev_environment
	# Sets up a local dev environment

	# Copy .env
	cp .env.example .env
	# Install pip
	pip install --upgrade pip
	# Install poetry
	pip install "poetry==1.7.1"

	make poetry_environment
	make git_hooks
